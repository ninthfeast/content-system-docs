# æ—¶åºæ•°æ®åº“æ·±åº¦å¯¹æ¯”

## ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦ä¸“é—¨çš„æ—¶åºæ•°æ®åº“

### 1.1 ä¼ ç»Ÿæ•°æ®åº“çš„å±€é™

**MySQL/PostgreSQLå¤„ç†æ—¶åºæ•°æ®**ï¼š
```sql
CREATE TABLE sensor_data (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    timestamp DATETIME,
    sensor_id INT,
    temperature FLOAT,
    INDEX idx_time (timestamp)
);

-- æŸ¥è¯¢1å°æ—¶å¹³å‡å€¼
SELECT AVG(temperature)
FROM sensor_data
WHERE timestamp >= '2024-01-27 10:00:00'
  AND timestamp < '2024-01-27 11:00:00'
  AND sensor_id = 1;
```

**é—®é¢˜**ï¼š
- âŒ å†™å…¥æ€§èƒ½å·®ï¼ˆB-Treeç´¢å¼•å¼€é”€å¤§ï¼‰
- âŒ å­˜å‚¨ç©ºé—´å¤§ï¼ˆæ— å‹ç¼©ä¼˜åŒ–ï¼‰
- âŒ èšåˆæŸ¥è¯¢æ…¢ï¼ˆå…¨è¡¨æ‰«æï¼‰
- âŒ æ•°æ®ä¿ç•™å›°éš¾ï¼ˆåˆ é™¤æ—§æ•°æ®é”è¡¨ï¼‰

### 1.2 æ—¶åºæ•°æ®ç‰¹å¾

1. **æ—¶é—´æ’åº**ï¼šæ•°æ®æŒ‰æ—¶é—´æˆ³è‡ªç„¶æœ‰åº
2. **åªè¿½åŠ **ï¼šå‡ ä¹ä¸ä¿®æ”¹å†å²æ•°æ®
3. **é«˜å†™å…¥**ï¼šIOTä¼ æ„Ÿå™¨æ¯ç§’æ•°åƒæ¡
4. **èŒƒå›´æŸ¥è¯¢**ï¼šå¸¸æŸ¥"è¿‡å»1å°æ—¶"è€Œéå•æ¡
5. **é™é‡‡æ ·**ï¼šæ—§æ•°æ®å¯é™ä½ç²¾åº¦

---

## äºŒã€ä¸»æµæ—¶åºæ•°æ®åº“å¯¹æ¯”

### 2.1 æ€»è§ˆè¡¨æ ¼

| ç‰¹æ€§ | InfluxDB | TimescaleDB | Prometheus | QuestDB | VictoriaMetrics |
|------|---------|-------------|------------|---------|-----------------|
| ç±»å‹ | ä¸“ç”¨TSDB | PGæ‰©å±• | ç›‘æ§ä¸“ç”¨ | ä¸“ç”¨TSDB | ç›‘æ§ä¸“ç”¨ |
| æŸ¥è¯¢è¯­è¨€ | InfluxQL/Flux | SQL | PromQL | SQL | PromQL |
| å†™å…¥æ€§èƒ½ | â­â­â­â­ | â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ |
| æŸ¥è¯¢æ€§èƒ½ | â­â­â­ | â­â­â­â­ | â­â­â­ | â­â­â­â­â­ | â­â­â­â­ |
| å‹ç¼©ç‡ | â­â­â­â­ | â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ |
| åˆ†å¸ƒå¼ | å•†ä¸šç‰ˆ | âœ… | âœ… | âŒ | âœ… |
| å¼€æº | âœ… | âœ… | âœ… | âœ… | âœ… |
| å­¦ä¹ æ›²çº¿ | ä¸­ | ä½ï¼ˆSQLï¼‰ | ä¸­ | ä½ï¼ˆSQLï¼‰ | ä¸­ |

---

## ä¸‰ã€InfluxDBè¯¦è§£

### 3.1 æ•°æ®æ¨¡å‹

**æ¦‚å¿µ**ï¼š
- **Measurement**ï¼šç±»ä¼¼è¡¨ï¼ˆå¦‚"temperature"ï¼‰
- **Tags**ï¼šç´¢å¼•å­—æ®µï¼ˆå¦‚locationã€sensor_idï¼‰
- **Fields**ï¼šå®é™…å€¼ï¼ˆå¦‚valueã€humidityï¼‰
- **Timestamp**ï¼šçº³ç§’ç²¾åº¦

**ç¤ºä¾‹**ï¼š
```
measurement: cpu
tags: host=server01, region=us-west
fields: usage_idle=90.5, usage_user=5.2
timestamp: 1706342145000000000
```

### 3.2 å†™å…¥ä¼˜åŒ–

**Line Protocol**ï¼ˆæ–‡æœ¬æ ¼å¼ï¼‰ï¼š
```bash
# æ ¼å¼ï¼šmeasurement,tag1=value1,tag2=value2 field1=value1,field2=value2 timestamp
cpu,host=server01,region=us-west usage_idle=90.5,usage_user=5.2 1706342145000000000
memory,host=server01 used_percent=65.3 1706342145000000000
```

**æ‰¹é‡å†™å…¥**ï¼š
```python
from influxdb_client import InfluxDBClient, Point
from influxdb_client.client.write_api import SYNCHRONOUS

client = InfluxDBClient(url="http://localhost:8086", token="my-token")
write_api = client.write_api(write_options=SYNCHRONOUS)

# æ‰¹é‡å†™å…¥ï¼ˆæ¨èï¼‰
points = []
for i in range(1000):
    point = Point("sensor_data") \
        .tag("sensor_id", "sensor_001") \
        .field("temperature", 25.5 + random.random()) \
        .time(datetime.utcnow())
    points.append(point)

write_api.write(bucket="my-bucket", record=points)
```

**æ€§èƒ½**ï¼š
- å•æœºï¼š100,000 - 500,000 ç‚¹/ç§’
- æ‰¹é‡å¤§å°ï¼š5000-10000ç‚¹ä¸ºä½³
- å†…å­˜ç¼“å­˜ï¼šé»˜è®¤1GB

### 3.3 æŸ¥è¯¢è¯­è¨€å¯¹æ¯”

**InfluxQLï¼ˆç±»SQLï¼‰**ï¼š
```sql
SELECT MEAN(temperature)
FROM sensor_data
WHERE time > now() - 1h
  AND sensor_id = 'sensor_001'
GROUP BY time(5m)
```

**Fluxï¼ˆå‡½æ•°å¼ï¼‰**ï¼š
```flux
from(bucket: "my-bucket")
  |> range(start: -1h)
  |> filter(fn: (r) => r._measurement == "sensor_data")
  |> filter(fn: (r) => r.sensor_id == "sensor_001")
  |> aggregateWindow(every: 5m, fn: mean)
```

### 3.4 æ•°æ®ä¿ç•™ç­–ç•¥

**è‡ªåŠ¨åˆ é™¤æ—§æ•°æ®**ï¼š
```bash
# åˆ›å»ºä¿ç•™ç­–ç•¥ï¼š7å¤©æ•°æ®
influx bucket create \
  --name my-bucket \
  --retention 7d

# æ— é™ä¿ç•™
influx bucket create \
  --name archive \
  --retention 0
```

**é™é‡‡æ ·ï¼ˆDownsamplingï¼‰**ï¼š
```flux
// ä»»åŠ¡ï¼šæ¯å°æ—¶å°†1åˆ†é’Ÿæ•°æ®èšåˆä¸º1å°æ—¶æ•°æ®
option task = {name: "downsample", every: 1h}

from(bucket: "raw-data")
  |> range(start: -1h)
  |> aggregateWindow(every: 1h, fn: mean)
  |> to(bucket: "downsampled")
```

---

## å››ã€TimescaleDBè¯¦è§£

### 4.1 æ¶æ„è®¾è®¡

**Hypertableï¼ˆè¶…è¡¨ï¼‰**ï¼š
```sql
-- åˆ›å»ºæ™®é€šè¡¨
CREATE TABLE conditions (
    time TIMESTAMPTZ NOT NULL,
    location TEXT NOT NULL,
    temperature DOUBLE PRECISION,
    humidity DOUBLE PRECISION
);

-- è½¬æ¢ä¸ºè¶…è¡¨ï¼ˆè‡ªåŠ¨åˆ†åŒºï¼‰
SELECT create_hypertable('conditions', 'time');
```

**è‡ªåŠ¨åˆ†åŒºï¼ˆChunksï¼‰**ï¼š
- é»˜è®¤æŒ‰æ—¶é—´åˆ†ç‰‡ï¼ˆå¦‚æ¯7å¤©ä¸€ä¸ªchunkï¼‰
- é€æ˜æŸ¥è¯¢ï¼šSELECTæ—¶æ— éœ€æŒ‡å®šåˆ†åŒº

### 4.2 å‹ç¼©

**å¯ç”¨å‹ç¼©**ï¼š
```sql
-- è®¾ç½®å‹ç¼©ç­–ç•¥
ALTER TABLE conditions SET (
  timescaledb.compress,
  timescaledb.compress_segmentby = 'location'
);

-- è‡ªåŠ¨å‹ç¼©7å¤©å‰çš„æ•°æ®
SELECT add_compression_policy('conditions', INTERVAL '7 days');
```

**æ•ˆæœ**ï¼š
- å‹ç¼©ç‡ï¼š10-100å€
- æŸ¥è¯¢ï¼šè§£å‹ç¼©è‡ªåŠ¨è¿›è¡Œ
- æƒè¡¡ï¼šå†™å…¥å˜ä¸ºåªè¯»

### 4.3 è¿ç»­èšåˆï¼ˆContinuous Aggregatesï¼‰

**å®æ—¶ç‰©åŒ–è§†å›¾**ï¼š
```sql
-- åˆ›å»º1å°æ—¶èšåˆè§†å›¾
CREATE MATERIALIZED VIEW conditions_hourly
WITH (timescaledb.continuous) AS
SELECT time_bucket('1 hour', time) AS hour,
       location,
       AVG(temperature) AS avg_temp,
       MAX(temperature) AS max_temp
FROM conditions
GROUP BY hour, location;

-- æŸ¥è¯¢ï¼ˆè‡ªåŠ¨ä½¿ç”¨é¢„èšåˆï¼‰
SELECT * FROM conditions_hourly
WHERE hour > NOW() - INTERVAL '1 day';
```

**æ›´æ–°ç­–ç•¥**ï¼š
```sql
-- æ¯å°æ—¶æ›´æ–°
SELECT add_continuous_aggregate_policy('conditions_hourly',
  start_offset => INTERVAL '2 hours',
  end_offset => INTERVAL '1 hour',
  schedule_interval => INTERVAL '1 hour');
```

### 4.4 ä¼˜åŠ¿

**1. SQLå…¼å®¹æ€§**ï¼š
- ç°æœ‰PostgreSQLçŸ¥è¯†ç›´æ¥å¯ç”¨
- æ”¯æŒJOINã€å­æŸ¥è¯¢ã€çª—å£å‡½æ•°

**2. ç”Ÿæ€ä¸°å¯Œ**ï¼š
- PostGISï¼ˆåœ°ç†ç©ºé—´ï¼‰
- pg_cronï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰
- æ‰€æœ‰PGæ‰©å±•

**3. ACIDäº‹åŠ¡**ï¼š
- å¼ºä¸€è‡´æ€§ä¿è¯
- é€‚åˆé‡‘èã€åŒ»ç–—ç­‰ä¸¥æ ¼åœºæ™¯

---

## äº”ã€Prometheusè¯¦è§£

### 5.1 æ•°æ®æ¨¡å‹

**Metric Name + Labels**ï¼š
```
http_requests_total{method="GET", endpoint="/api", status="200"} 12345
```

**Metricç±»å‹**ï¼š
- **Counter**ï¼šåªå¢ä¸å‡ï¼ˆå¦‚è¯·æ±‚æ€»æ•°ï¼‰
- **Gauge**ï¼šå¯å¢å¯å‡ï¼ˆå¦‚CPUä½¿ç”¨ç‡ï¼‰
- **Histogram**ï¼šåˆ†å¸ƒç»Ÿè®¡ï¼ˆå¦‚å“åº”æ—¶é—´ï¼‰
- **Summary**ï¼šç±»ä¼¼Histogramï¼Œå®¢æˆ·ç«¯è®¡ç®—

### 5.2 Pullæ¨¡å‹

**æ¶æ„**ï¼š
```
åº”ç”¨ç¨‹åºï¼ˆæš´éœ²/metricsç«¯ç‚¹ï¼‰
    â†‘
Prometheus Serverï¼ˆå®šæœŸæŠ“å–ï¼‰
    â†“
æŸ¥è¯¢ / å‘Šè­¦ / å¯è§†åŒ–
```

**é…ç½®**ï¼š
```yaml
# prometheus.yml
scrape_configs:
  - job_name: 'my-app'
    scrape_interval: 15s
    static_configs:
      - targets: ['localhost:8080', 'localhost:8081']
```

**åº”ç”¨ä¾§æš´éœ²æŒ‡æ ‡**ï¼š
```python
from prometheus_client import Counter, Gauge, start_http_server

# å®šä¹‰æŒ‡æ ‡
requests_total = Counter('http_requests_total', 'Total HTTP requests', ['method', 'endpoint'])
cpu_usage = Gauge('cpu_usage_percent', 'CPU usage percentage')

# æ›´æ–°æŒ‡æ ‡
requests_total.labels(method='GET', endpoint='/api').inc()
cpu_usage.set(75.3)

# å¯åŠ¨HTTPæœåŠ¡å™¨æš´éœ²æŒ‡æ ‡
start_http_server(8000)  # /metricsç«¯ç‚¹
```

### 5.3 PromQLæŸ¥è¯¢

**åŸºç¡€**ï¼š
```promql
# å½“å‰å€¼
http_requests_total

# è¿‡æ»¤
http_requests_total{method="GET", status="200"}

# é€Ÿç‡ï¼ˆæ¯ç§’è¯·æ±‚æ•°ï¼‰
rate(http_requests_total[5m])

# èšåˆ
sum(rate(http_requests_total[5m])) by (endpoint)
```

**é«˜çº§**ï¼š
```promql
# 99ç™¾åˆ†ä½å“åº”æ—¶é—´
histogram_quantile(0.99, rate(http_request_duration_seconds_bucket[5m]))

# é¢„æµ‹ï¼ˆçº¿æ€§å›å½’ï¼‰
predict_linear(node_filesystem_free_bytes[1h], 4 * 3600)  # 4å°æ—¶å
```

### 5.4 é™åˆ¶

- âŒ å•æœºæ‰©å±•æœ‰é™ï¼ˆæ¨è<1000èŠ‚ç‚¹ï¼‰
- âŒ é•¿æœŸå­˜å‚¨éœ€å¤–éƒ¨æ–¹æ¡ˆï¼ˆThanos, Cortex, VictoriaMetricsï¼‰
- âŒ æŸ¥è¯¢é«˜åŸºæ•°æ•°æ®æ…¢ï¼ˆå¦‚user_idæ ‡ç­¾ï¼‰

---

## å…­ã€QuestDBè¯¦è§£

### 6.1 æ€§èƒ½æè‡´

**å†™å…¥é€Ÿåº¦**ï¼š
- å•çº¿ç¨‹ï¼š4,000,000 è¡Œ/ç§’
- å¤šçº¿ç¨‹ï¼š10,000,000+ è¡Œ/ç§’
- å»¶è¿Ÿï¼šå¾®ç§’çº§

**æŸ¥è¯¢é€Ÿåº¦**ï¼š
- 10äº¿è¡Œèšåˆï¼š<1ç§’
- åˆ—å¼å­˜å‚¨ + SIMDä¼˜åŒ–

### 6.2 SQLæ‰©å±•

**SAMPLE BYï¼ˆæ—¶é—´èšåˆï¼‰**ï¼š
```sql
SELECT timestamp, avg(temperature)
FROM sensor_data
WHERE timestamp > '2024-01-01'
SAMPLE BY 1h;  -- æŒ‰1å°æ—¶èšåˆ
```

**LATEST ONï¼ˆæœ€æ–°å€¼ï¼‰**ï¼š
```sql
SELECT * FROM trades
LATEST ON timestamp PARTITION BY symbol;  -- æ¯ä¸ªäº¤æ˜“å¯¹æœ€æ–°ä»·æ ¼
```

### 6.3 æ—¶é—´åºåˆ—JOIN

**ASOF JOIN**ï¼ˆæ—¶é—´å¯¹é½ï¼‰ï¼š
```sql
-- å°†ä¸¤ä¸ªä¸å¯¹é½çš„æ—¶é—´åºåˆ—JOIN
SELECT *
FROM orders
ASOF JOIN quotes
ON orders.symbol = quotes.symbol;
-- è‡ªåŠ¨æ‰¾åˆ°quotesä¸­<=orders.timeçš„æœ€è¿‘è®°å½•
```

---

## ä¸ƒã€æ€§èƒ½åŸºå‡†æµ‹è¯•

### 7.1 å†™å…¥æ€§èƒ½

**æµ‹è¯•åœºæ™¯**ï¼š1000ä¼ æ„Ÿå™¨ï¼Œæ¯ç§’1æ¬¡ï¼ŒæŒç»­1å°æ—¶

| æ•°æ®åº“ | å†™å…¥é€Ÿç‡ï¼ˆç‚¹/ç§’ï¼‰ | CPUä½¿ç”¨ç‡ | å†…å­˜ä½¿ç”¨ |
|-------|-----------------|----------|---------|
| QuestDB | 1,000,000 | 25% | 512MB |
| InfluxDB | 500,000 | 40% | 2GB |
| TimescaleDB | 300,000 | 60% | 4GB |
| Prometheus | 200,000 | 35% | 1GB |
| PostgreSQL | 50,000 | 80% | 8GB |

### 7.2 æŸ¥è¯¢æ€§èƒ½

**æµ‹è¯•æŸ¥è¯¢**ï¼š1äº¿è¡Œæ•°æ®ï¼Œè®¡ç®—è¿‡å»7å¤©æ¯å°æ—¶å¹³å‡å€¼

| æ•°æ®åº“ | æŸ¥è¯¢æ—¶é—´ | å¤‡æ³¨ |
|-------|---------|------|
| QuestDB | 0.8ç§’ | åˆ—å¼å­˜å‚¨+SIMD |
| TimescaleDB | 2.3ç§’ | è¿ç»­èšåˆä¼˜åŒ– |
| InfluxDB | 3.5ç§’ | ç´¢å¼•ä¼˜åŒ– |
| PostgreSQL | 45ç§’ | å…¨è¡¨æ‰«æ |

### 7.3 å‹ç¼©ç‡

**åŸå§‹æ•°æ®**ï¼š1GBï¼ˆ1000ä¸‡æ¡è®°å½•ï¼‰

| æ•°æ®åº“ | å‹ç¼©åå¤§å° | å‹ç¼©ç‡ |
|-------|-----------|-------|
| QuestDB | 15MB | 67x |
| InfluxDB | 25MB | 40x |
| TimescaleDB | 50MB | 20x |
| Prometheus | 30MB | 33x |

---

## å…«ã€é€‰å‹å†³ç­–æ ‘

### 8.1 æŒ‰åœºæ™¯é€‰æ‹©

**ç›‘æ§åœºæ™¯ï¼ˆPrometheusï¼‰**ï¼š
```
âœ… ä¸»è¦ç›‘æ§ç³»ç»ŸæŒ‡æ ‡
âœ… éœ€è¦å‘Šè­¦åŠŸèƒ½
âœ… è§„æ¨¡<1000èŠ‚ç‚¹
âœ… Pullæ¨¡å‹å¯æ¥å—
```

**IoTåœºæ™¯ï¼ˆInfluxDB/QuestDBï¼‰**ï¼š
```
âœ… å¤§é‡ä¼ æ„Ÿå™¨ï¼ˆç™¾ä¸‡çº§ï¼‰
âœ… é«˜å†™å…¥é¢‘ç‡
âœ… éœ€è¦å¤æ‚æŸ¥è¯¢
âœ… æ•°æ®é™é‡‡æ ·éœ€æ±‚
```

**é‡‘èåœºæ™¯ï¼ˆQuestDB/TimescaleDBï¼‰**ï¼š
```
âœ… æä½å»¶è¿Ÿè¦æ±‚ï¼ˆ<1msï¼‰
âœ… æ—¶é—´åºåˆ—JOINï¼ˆå¦‚è®¢å•+æŠ¥ä»·ï¼‰
âœ… ACIDäº‹åŠ¡éœ€æ±‚
âœ… SQLåˆ†æå¸ˆå‹å¥½
```

**é€šç”¨åœºæ™¯ï¼ˆTimescaleDBï¼‰**ï¼š
```
âœ… å·²æœ‰PostgreSQLç»éªŒ
âœ… éœ€è¦å…³ç³»å‹åŠŸèƒ½ï¼ˆJOINã€äº‹åŠ¡ï¼‰
âœ… é•¿æœŸå­˜å‚¨
âœ… åœ°ç†ç©ºé—´æ•°æ®
```

### 8.2 æŒ‰æ•°æ®é‡é€‰æ‹©

| æ•°æ®é‡/å¤© | æ¨è |
|----------|------|
| <1GB | ä»»æ„ï¼ˆPostgreSQLä¹Ÿå¯ï¼‰ |
| 1-100GB | InfluxDB / TimescaleDB |
| 100GB-1TB | TimescaleDBï¼ˆåˆ†å¸ƒå¼ï¼‰ / InfluxDB Enterprise |
| >1TB | QuestDBï¼ˆå•æœºï¼‰ / VictoriaMetricsï¼ˆé›†ç¾¤ï¼‰ |

---

## ä¹ã€æœ€ä½³å®è·µ

### 9.1 Schemaè®¾è®¡

**InfluxDB**ï¼š
```
âœ… é«˜åŸºæ•°æ”¾fieldsï¼ˆå¦‚user_idï¼‰
âŒ é«˜åŸºæ•°æ”¾tagsï¼ˆä¼šçˆ†ç‚¸ï¼‰
âœ… ä½åŸºæ•°æ”¾tagsï¼ˆå¦‚region: us/eu/asiaï¼‰
âœ… MeasurementæŒ‰æ•°æ®ç±»å‹åˆ†ï¼ˆcpu, memoryåˆ†å¼€ï¼‰
```

**TimescaleDB**ï¼š
```sql
-- âœ… æ—¶é—´æˆ³ä½œä¸ºç¬¬ä¸€åˆ—
-- âœ… é«˜åŸºæ•°åˆ—ä¸ä½œä¸ºåˆ†åŒºé”®
-- âœ… å¯ç”¨å‹ç¼©
CREATE TABLE metrics (
    time TIMESTAMPTZ NOT NULL,
    metric_name TEXT,
    value DOUBLE PRECISION,
    tags JSONB
);

SELECT create_hypertable('metrics', 'time');
ALTER TABLE metrics SET (timescaledb.compress);
```

### 9.2 æŸ¥è¯¢ä¼˜åŒ–

**é¿å…é«˜åŸºæ•°èšåˆ**ï¼š
```sql
-- âŒ æ…¢ï¼ˆ100ä¸‡ä¸ªuser_idï¼‰
SELECT user_id, COUNT(*)
FROM events
GROUP BY user_id;

-- âœ… å¿«ï¼ˆé¢„èšåˆï¼‰
SELECT region, COUNT(*)
FROM events
GROUP BY region;
```

**ä½¿ç”¨è¿ç»­èšåˆ**ï¼š
```sql
-- é¢„è®¡ç®—å°æ—¶/å¤©èšåˆï¼Œé¿å…å®æ—¶è®¡ç®—
CREATE MATERIALIZED VIEW metrics_hourly ...
```

### 9.3 æ•°æ®ä¿ç•™

**åˆ†å±‚å­˜å‚¨**ï¼š
```
åŸå§‹æ•°æ®ï¼šä¿ç•™7å¤©
1åˆ†é’Ÿèšåˆï¼šä¿ç•™30å¤©
1å°æ—¶èšåˆï¼šä¿ç•™1å¹´
1å¤©èšåˆï¼šæ°¸ä¹…
```

**å®ç°**ï¼š
```sql
-- TimescaleDB
SELECT add_retention_policy('raw_data', INTERVAL '7 days');

-- InfluxDB
influx bucket update --id xxx --retention 7d
```

---

## åã€æ€»ç»“å¯¹æ¯”

| ç»´åº¦ | InfluxDB | TimescaleDB | Prometheus | QuestDB |
|------|---------|-------------|------------|---------|
| **æœ€é€‚åˆ** | IoT, é€šç”¨TSDB | éœ€è¦SQLå’Œäº‹åŠ¡ | ç³»ç»Ÿç›‘æ§ | é«˜æ€§èƒ½äº¤æ˜“ |
| **ä¼˜åŠ¿** | æ˜“ç”¨ã€äº‘åŸç”Ÿ | PostgreSQLç”Ÿæ€ | å‘Šè­¦ã€Pullæ¨¡å‹ | æè‡´æ€§èƒ½ |
| **åŠ£åŠ¿** | åˆ†å¸ƒå¼æ”¶è´¹ | å­¦ä¹ æ›²çº¿ï¼ˆPGï¼‰ | å•æœºæ‰©å±•é™åˆ¶ | ç”Ÿæ€è¾ƒæ–° |
| **ç¤¾åŒº** | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­ |
| **æˆç†Ÿåº¦** | 10å¹´+ | 5å¹´+ | 10å¹´+ | 5å¹´+ |

**ç»ˆæå»ºè®®**ï¼š
- ğŸ¥‡ **æ–°é¡¹ç›®+IoT**ï¼šInfluxDBï¼ˆæ˜“ç”¨æ€§å¥½ï¼‰
- ğŸ¥ˆ **å·²æœ‰PG**ï¼šTimescaleDBï¼ˆæ— ç¼é›†æˆï¼‰
- ğŸ¥‰ **ç›‘æ§ä¸“ç”¨**ï¼šPrometheusï¼ˆç”Ÿæ€æœ€å¼ºï¼‰
- ğŸš€ **æ€§èƒ½æå®¢**ï¼šQuestDBï¼ˆé€Ÿåº¦ä¹‹ç‹ï¼‰

**æ··åˆä½¿ç”¨**ï¼š
```
æ•°æ®é‡‡é›† â†’ Kafka â†’ åˆ†æµ
             â†“          â†“           â†“
        å®æ—¶ç›‘æ§    é•¿æœŸå­˜å‚¨    å®æ—¶æŸ¥è¯¢
      Prometheus  TimescaleDB  QuestDB
```

é€‰æ‹©æ—¶åºæ•°æ®åº“çš„æ ¸å¿ƒï¼š**ç†è§£æ•°æ®ç‰¹å¾ + åŒ¹é…ä¸šåŠ¡éœ€æ±‚ + å›¢é˜ŸæŠ€æœ¯æ ˆ**ã€‚
