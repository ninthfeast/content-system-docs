# æ–‡æ¡£è¿ç§»åˆ° Docusaurus çš„ SOPï¼ˆæ ‡å‡†æ“ä½œæµç¨‹ï¼‰

> æœ¬æ–‡æ¡£æä¾›äº†å°† Markdown æ–‡æ¡£æ‰¹é‡è¿ç§»åˆ° Docusaurus çš„å®Œæ•´æµç¨‹å’Œæœ€ä½³å®è·µ

## ğŸ“‹ æ¦‚è¿°

**ç›®æ ‡**ï¼šå°†ä»»æ„ Markdown æ–‡æ¡£ç»“æ„è¿ç§»åˆ° Docusaurusï¼Œåˆ›å»ºä¸€ä¸ªé«˜çº§ã€æœ‰è®¾è®¡æ„Ÿçš„æ–‡æ¡£ç½‘ç«™

**é€‚ç”¨åœºæ™¯**ï¼š
- çŸ¥è¯†åº“è¿ç§»
- æŠ€æœ¯æ–‡æ¡£å‘å¸ƒ
- é¡¹ç›®æ–‡æ¡£æ•´ç†
- å†…å®¹ç®¡ç†ç³»ç»Ÿ

**é¢„è®¡æ—¶é—´**ï¼š30-60åˆ†é’Ÿï¼ˆå–å†³äºæ–‡æ¡£æ•°é‡ï¼‰

---

## ğŸ”§ å‰ç½®è¦æ±‚

### ç¯å¢ƒå‡†å¤‡

1. **Node.js ç¯å¢ƒ**
   ```bash
   node --version  # å»ºè®® v18+
   ```

2. **pnpm åŒ…ç®¡ç†å™¨**
   ```bash
   npm install -g pnpm
   # æˆ–
   corepack enable
   corepack prepare pnpm@latest --activate
   ```

3. **æ–‡ä»¶ç³»ç»Ÿæƒé™**
   - ç¡®ä¿å¯¹æºæ–‡æ¡£ç›®å½•æœ‰è¯»å–æƒé™
   - ç¡®ä¿å¯¹ç›®æ ‡ç›®å½•æœ‰å†™å…¥æƒé™

---

## ğŸ“ æ­¥éª¤ 1ï¼šåˆå§‹åŒ– Docusaurus é¡¹ç›®

### 1.1 åˆ›å»ºæ–°é¡¹ç›®

```bash
# åœ¨ç›®æ ‡ç›®å½•ä¸‹æ‰§è¡Œ
pnpm create docusaurus@latest my-docs classic --typescript

# å‚æ•°è¯´æ˜ï¼š
# - my-docs: é¡¹ç›®åç§°ï¼ˆå¯è‡ªå®šä¹‰ï¼‰
# - classic: ä½¿ç”¨ç»å…¸æ¨¡æ¿
# - --typescript: ä½¿ç”¨ TypeScriptï¼ˆå¯é€‰ï¼‰
```

### 1.2 éªŒè¯å®‰è£…

```bash
cd my-docs
pnpm start  # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```

è®¿é—® `http://localhost:3000` éªŒè¯æ˜¯å¦æˆåŠŸè¿è¡Œ

---

## ğŸ”„ æ­¥éª¤ 2ï¼šå‡†å¤‡è¿ç§»è„šæœ¬

### 2.1 å®‰è£…ä¾èµ–

```bash
pnpm add -D tsx @types/node
```

### 2.2 åˆ›å»ºè¿ç§»è„šæœ¬

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `scripts/migrate-docs.ts`ï¼ˆè„šæœ¬å†…å®¹è§é™„å½•Aï¼‰

### 2.3 é…ç½®å‚æ•°

ç¼–è¾‘è„šæœ¬ä¸­çš„å…³é”®é…ç½®ï¼š

```typescript
// æºæ–‡æ¡£ç›®å½•ï¼ˆç»å¯¹è·¯å¾„ï¼‰
const SOURCE_DIR = path.join(__dirname, '../../ä½ çš„æºæ–‡æ¡£ç›®å½•');

// ç›®æ ‡æ–‡æ¡£ç›®å½•
const TARGET_DIR = path.join(__dirname, '../docs');

// åˆ†ç±»é…ç½®
const FOLDER_CATEGORIES = {
  'åˆ†ç±»1': {
    label: 'æ˜¾ç¤ºåç§°',
    position: 10,
    description: 'åˆ†ç±»æè¿°'
  },
  // æ·»åŠ æ›´å¤šåˆ†ç±»...
};
```

---

## ğŸš€ æ­¥éª¤ 3ï¼šæ‰§è¡Œè¿ç§»

### 3.1 è¿è¡Œè¿ç§»è„šæœ¬

```bash
pnpm exec tsx scripts/migrate-docs.ts
```

### 3.2 æ£€æŸ¥è¾“å‡º

è„šæœ¬ä¼šè¾“å‡ºå¤„ç†è¿›åº¦ï¼š
```
ğŸš€ å¼€å§‹è¿ç§»æ–‡æ¡£...
âœ“ å·²å¤„ç†: æ–‡æ¡£1.md -> æ–‡æ¡£1.md
âœ“ å·²å¤„ç†: æ–‡æ¡£2.md -> æ–‡æ¡£2.md
...
âœ… æ–‡æ¡£è¿ç§»å®Œæˆï¼
```

### 3.3 éªŒè¯ç»“æœ

æ£€æŸ¥ `docs/` ç›®å½•ï¼š
- æ–‡ä»¶æ˜¯å¦å…¨éƒ¨è¿ç§»
- frontmatter æ˜¯å¦æ­£ç¡®æ·»åŠ 
- é“¾æ¥æ ¼å¼æ˜¯å¦æ­£ç¡®è½¬æ¢

---

## ğŸ¨ æ­¥éª¤ 4ï¼šé…ç½®ä¸»é¢˜å’Œæ ·å¼

### 4.1 æ›´æ–°é…ç½®æ–‡ä»¶

ç¼–è¾‘ `docusaurus.config.ts`ï¼š

```typescript
const config: Config = {
  title: 'ä½ çš„ç½‘ç«™æ ‡é¢˜',
  tagline: 'ç½‘ç«™æè¿°',

  // ä¸­æ–‡æ”¯æŒ
  i18n: {
    defaultLocale: 'zh-Hans',
    locales: ['zh-Hans'],
  },

  // ä¸»é¢˜é…ç½®
  themeConfig: {
    colorMode: {
      defaultMode: 'dark',  // é»˜è®¤æš—è‰²ä¸»é¢˜
      respectPrefersColorScheme: true,
    },
    navbar: {
      title: 'ç½‘ç«™åç§°',
      hideOnScroll: true,  // æ»šåŠ¨æ—¶éšè—å¯¼èˆªæ 
      items: [
        {
          type: 'docSidebar',
          sidebarId: 'tutorialSidebar',
          label: 'ğŸ“š æ–‡æ¡£',
        },
        // æ·»åŠ æ›´å¤šå¯¼èˆªé¡¹...
      ],
    },
  },
};
```

### 4.2 è‡ªå®šä¹‰æ ·å¼

ç¼–è¾‘ `src/css/custom.css`ï¼Œæ·»åŠ è‡ªå®šä¹‰æ ·å¼ï¼ˆå‚è€ƒé™„å½•Bï¼‰

å…³é”®è®¾è®¡å…ƒç´ ï¼š
- æ¸å˜è‰²ä¸»é¢˜
- åœ†è§’å’Œé˜´å½±
- ç°ä»£åŒ–å­—ä½“
- å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»
- å“åº”å¼è®¾è®¡

---

## ğŸ§ª æ­¥éª¤ 5ï¼šæµ‹è¯•å’Œä¼˜åŒ–

### 5.1 æœ¬åœ°å¼€å‘æµ‹è¯•

```bash
pnpm start
```

æ£€æŸ¥é¡¹ç›®ï¼š
- [ ] å¯¼èˆªç»“æ„æ­£ç¡®
- [ ] ä¾§è¾¹æ å±‚çº§æ¸…æ™°
- [ ] å†…éƒ¨é“¾æ¥å¯ç”¨
- [ ] ä»£ç å—é«˜äº®æ­£å¸¸
- [ ] å›¾ç‰‡èµ„æºåŠ è½½
- [ ] å“åº”å¼å¸ƒå±€

### 5.2 æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm build
```

æ£€æŸ¥æ„å»ºè¾“å‡ºï¼š
- æ— é”™è¯¯å’Œè­¦å‘Š
- æ„å»ºæ—¶é—´åˆç†
- è¾“å‡ºæ–‡ä»¶å¤§å°

### 5.3 æœ¬åœ°é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm serve
```

è®¿é—® `http://localhost:3000` æµ‹è¯•ç”Ÿäº§ç‰ˆæœ¬

---

## ğŸ“¦ æ­¥éª¤ 6ï¼šéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

### 6.1 éƒ¨ç½²é€‰é¡¹

**é€‰é¡¹Aï¼šVercelï¼ˆæ¨èï¼‰**
```bash
# å®‰è£… Vercel CLI
npm i -g vercel

# éƒ¨ç½²
vercel
```

**é€‰é¡¹Bï¼šNetlify**
```bash
# å®‰è£… Netlify CLI
npm i -g netlify-cli

# éƒ¨ç½²
netlify deploy --prod
```

**é€‰é¡¹Cï¼šGitHub Pages**
```bash
# é…ç½® docusaurus.config.ts
organizationName: 'your-org'
projectName: 'your-repo'

# éƒ¨ç½²
GIT_USER=<your-username> pnpm deploy
```

**é€‰é¡¹Dï¼šè‡ªæ‰˜ç®¡**
```bash
# æ„å»ºé™æ€æ–‡ä»¶
pnpm build

# å°† build/ ç›®å½•éƒ¨ç½²åˆ°ä½ çš„æœåŠ¡å™¨
```

### 6.2 é…ç½®è‡ªå®šä¹‰åŸŸå

åœ¨éƒ¨ç½²å¹³å°é…ç½® DNSï¼š
```
Aè®°å½•ï¼š@ -> éƒ¨ç½²å¹³å°IP
CNAMEï¼šwww -> éƒ¨ç½²å¹³å°åŸŸå
```

---

## ğŸ” å¸¸è§é—®é¢˜å¤„ç†

### Q1: è¿ç§»åé“¾æ¥å¤±æ•ˆ

**åŸå› **ï¼šå†…éƒ¨é“¾æ¥æ ¼å¼ä¸å…¼å®¹

**è§£å†³**ï¼š
```typescript
// åœ¨è¿ç§»è„šæœ¬ä¸­è°ƒæ•´é“¾æ¥è½¬æ¢è§„åˆ™
function convertLinks(content: string): string {
  // æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´æ­£åˆ™è¡¨è¾¾å¼
  content = content.replace(/\]\(\.\/([^)]+)\.md\)/g, '](../$1)');
  return content;
}
```

### Q2: ä¸­æ–‡è·¯å¾„å¯¼è‡´é—®é¢˜

**åŸå› **ï¼šæŸäº›å¹³å°ä¸æ”¯æŒä¸­æ–‡URL

**è§£å†³**ï¼š
- æ–¹æ¡ˆ1ï¼šä½¿ç”¨ `slug` frontmatter æŒ‡å®šè‹±æ–‡URL
- æ–¹æ¡ˆ2ï¼šé‡å‘½åæ–‡ä»¶ä¸ºè‹±æ–‡ï¼Œä¿æŒä¸­æ–‡æ ‡é¢˜

```yaml
---
title: ä¸­æ–‡æ ‡é¢˜
slug: /english-path
---
```

### Q3: æ„å»ºé€Ÿåº¦æ…¢

**ä¼˜åŒ–æ–¹æ³•**ï¼š
1. å‡å°‘å›¾ç‰‡å¤§å°ï¼ˆä½¿ç”¨ WebP æ ¼å¼ï¼‰
2. å¯ç”¨å¢é‡æ„å»º
3. ä½¿ç”¨æ›´å¿«çš„åŒ…ç®¡ç†å™¨ï¼ˆpnpmï¼‰
4. å‡çº§ Node.js ç‰ˆæœ¬

### Q4: æ ·å¼ä¸ç”Ÿæ•ˆ

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] CSS æ–‡ä»¶è·¯å¾„æ­£ç¡®
- [ ] æµè§ˆå™¨ç¼“å­˜æ¸…é™¤
- [ ] CSS è¯­æ³•æ­£ç¡®
- [ ] ä¸»é¢˜å˜é‡æ­£ç¡®å¼•ç”¨

---

## ğŸ“Š è´¨é‡æ£€æŸ¥æ¸…å•

### å†…å®¹è´¨é‡
- [ ] æ‰€æœ‰æ–‡æ¡£éƒ½æœ‰æ ‡é¢˜
- [ ] frontmatter ä¿¡æ¯å®Œæ•´
- [ ] é“¾æ¥éƒ½å¯è®¿é—®
- [ ] ä»£ç ç¤ºä¾‹å¯è¿è¡Œ
- [ ] å›¾ç‰‡æ­£å¸¸æ˜¾ç¤º

### ç”¨æˆ·ä½“éªŒ
- [ ] å¯¼èˆªé€»è¾‘æ¸…æ™°
- [ ] æœç´¢åŠŸèƒ½æ­£å¸¸
- [ ] ç§»åŠ¨ç«¯é€‚é…è‰¯å¥½
- [ ] åŠ è½½é€Ÿåº¦å¿«ï¼ˆ< 3sï¼‰
- [ ] SEO ä¼˜åŒ–åˆ°ä½

### æŠ€æœ¯æŒ‡æ ‡
- [ ] æ— æ„å»ºé”™è¯¯
- [ ] æ— æ§åˆ¶å°è­¦å‘Š
- [ ] Lighthouse åˆ†æ•° > 90
- [ ] æ— å¯è®¿é—®æ€§é—®é¢˜
- [ ] è·¨æµè§ˆå™¨å…¼å®¹

---

## ğŸ”„ åç»­ç»´æŠ¤æµç¨‹

### æ·»åŠ æ–°æ–‡æ¡£

1. å°† Markdown æ–‡ä»¶æ”¾å…¥æºæ–‡æ¡£ç›®å½•
2. è¿è¡Œè¿ç§»è„šæœ¬ï¼š`pnpm exec tsx scripts/migrate-docs.ts`
3. æœ¬åœ°æµ‹è¯•ï¼š`pnpm start`
4. æäº¤å¹¶éƒ¨ç½²

### æ›´æ–°ç°æœ‰æ–‡æ¡£

**é€‰é¡¹Aï¼šç›´æ¥ç¼–è¾‘**ï¼ˆæ¨èï¼‰
```bash
# ç›´æ¥ç¼–è¾‘ docs/ ç›®å½•ä¸‹çš„æ–‡ä»¶
# æ— éœ€é‡æ–°è¿è¡Œè¿ç§»è„šæœ¬
```

**é€‰é¡¹Bï¼šæºæ–‡æ¡£æ›´æ–°**
```bash
# 1. æ›´æ–°æºæ–‡æ¡£
# 2. é‡æ–°è¿è¡Œè¿ç§»è„šæœ¬ï¼ˆä¼šè¦†ç›–ç°æœ‰æ–‡ä»¶ï¼‰
pnpm exec tsx scripts/migrate-docs.ts
```

### ç‰ˆæœ¬ç®¡ç†

```bash
# åˆ›å»ºç‰ˆæœ¬å¿«ç…§
pnpm docusaurus docs:version 1.0.0

# æŸ¥çœ‹æ‰€æœ‰ç‰ˆæœ¬
ls -la versioned_docs/
```

---

## ğŸ“š é™„å½•

### é™„å½•Aï¼šå®Œæ•´è¿ç§»è„šæœ¬

è§é¡¹ç›®æ–‡ä»¶ï¼š`scripts/migrate-docs.ts`

å…³é”®åŠŸèƒ½ï¼š
- è‡ªåŠ¨æ·»åŠ  frontmatter
- è½¬æ¢å†…éƒ¨é“¾æ¥
- åˆ›å»ºåˆ†ç±»ç´¢å¼•
- å¤„ç†æ–‡ä»¶ç¼–å·
- æå–æ ‡é¢˜å’Œæè¿°
- ç”Ÿæˆæ ‡ç­¾

### é™„å½•Bï¼šè‡ªå®šä¹‰æ ·å¼æ¨¡æ¿

è§é¡¹ç›®æ–‡ä»¶ï¼š`src/css/custom.css`

è®¾è®¡ç‰¹ç‚¹ï¼š
- è“ç´«æ¸å˜ä¸»é¢˜
- ç°ä»£åŒ–åœ†è§’è®¾è®¡
- æµç•…åŠ¨ç”»æ•ˆæœ
- ç»ç’ƒæ‹Ÿæ€æ•ˆæœ
- è‡ªå®šä¹‰æ»šåŠ¨æ¡
- å“åº”å¼å¸ƒå±€

### é™„å½•Cï¼šæ¨èæ’ä»¶

```bash
# æœç´¢åŠŸèƒ½
pnpm add @docusaurus/theme-search-algolia

# å›¾è¡¨æ”¯æŒ
pnpm add @docusaurus/theme-mermaid

# PWA æ”¯æŒ
pnpm add @docusaurus/plugin-pwa
```

é…ç½®ç¤ºä¾‹ï¼š
```typescript
// docusaurus.config.ts
plugins: [
  [
    '@docusaurus/plugin-pwa',
    {
      pwaHead: [
        {
          tagName: 'link',
          rel: 'manifest',
          href: '/manifest.json',
        },
      ],
    },
  ],
],
```

---

## ğŸ¯ æœ€ä½³å®è·µ

### æ–‡æ¡£ç»„ç»‡

1. **å±‚çº§ä¸è¶…è¿‡3å±‚**
   ```
   docs/
   â”œâ”€â”€ category1/
   â”‚   â”œâ”€â”€ subcategory/
   â”‚   â”‚   â””â”€â”€ file.md  â† ç¬¬3å±‚ï¼Œåˆ°æ­¤ä¸ºæ­¢
   ```

2. **ä½¿ç”¨ç¼–å·æ§åˆ¶é¡ºåº**
   ```
   00-intro.md
   01-getting-started.md
   02-advanced.md
   ```

3. **ç»Ÿä¸€å‘½åè§„èŒƒ**
   - æ–‡ä»¶åï¼šå°å†™ + è¿å­—ç¬¦
   - æ ‡é¢˜ï¼šæ¸…æ™°æè¿°æ€§
   - slugï¼šç®€çŸ­è‹±æ–‡

### æ€§èƒ½ä¼˜åŒ–

1. **å›¾ç‰‡ä¼˜åŒ–**
   ```bash
   # ä½¿ç”¨ WebP æ ¼å¼
   # æ§åˆ¶å›¾ç‰‡å¤§å° < 200KB
   # ä½¿ç”¨ CDN æ‰˜ç®¡å¤§æ–‡ä»¶
   ```

2. **ä»£ç åˆ†å‰²**
   ```typescript
   // ä½¿ç”¨åŠ¨æ€å¯¼å…¥
   const Component = lazy(() => import('./Component'));
   ```

3. **ç¼“å­˜ç­–ç•¥**
   ```typescript
   // é…ç½® PWA ç¼“å­˜
   runtimeCaching: [
     {
       urlPattern: /^https:\/\/fonts\.googleapis\.com/,
       handler: 'CacheFirst',
     },
   ],
   ```

### SEO ä¼˜åŒ–

1. **å®Œå–„ meta ä¿¡æ¯**
   ```yaml
   ---
   title: é¡µé¢æ ‡é¢˜
   description: é¡µé¢æè¿°ï¼ˆ< 160å­—ç¬¦ï¼‰
   keywords: [å…³é”®è¯1, å…³é”®è¯2]
   ---
   ```

2. **ç”Ÿæˆ sitemap**
   ```typescript
   // è‡ªåŠ¨å¯ç”¨ï¼Œæ— éœ€é…ç½®
   ```

3. **ç»“æ„åŒ–æ•°æ®**
   ```typescript
   // ä½¿ç”¨ JSON-LD
   headTags: [
     {
       tagName: 'script',
       attributes: { type: 'application/ld+json' },
       innerHTML: JSON.stringify({
         '@context': 'https://schema.org',
         '@type': 'Organization',
         name: 'ç½‘ç«™åç§°',
       }),
     },
   ],
   ```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### å®˜æ–¹èµ„æº
- [Docusaurus å®˜æ–¹æ–‡æ¡£](https://docusaurus.io)
- [GitHub ä»“åº“](https://github.com/facebook/docusaurus)
- [Discord ç¤¾åŒº](https://discord.gg/docusaurus)

### é—®é¢˜åé¦ˆ
- æäº¤ Issue
- å‚ä¸è®¨è®º
- è´¡çŒ®ä»£ç 

---

## ğŸ“ ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´å†…å®¹ |
|------|------|----------|
| 1.0.0 | 2025-12-11 | åˆå§‹ç‰ˆæœ¬ |

---

**æ–‡æ¡£ç»´æŠ¤è€…**ï¼š[Your Name]
**æœ€åæ›´æ–°**ï¼š2025-12-11
**è®¸å¯åè®®**ï¼šCC BY-SA 4.0
